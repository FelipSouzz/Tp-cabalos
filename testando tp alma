--[[ 
üìç GUI Mobile: Teleporte at√© objetos com bot√£o de interagir (ProximityPrompt)
Feito para funcionar no celular (m√≥vel e touch)
Coloque como LocalScript em StarterGui
--]]

local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- cria GUI principal
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "TeleportPromptFinder"
gui.ResetOnSpawn = false

-- frame principal (arrast√°vel e m√≥vel)
local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 340, 0, 380)
frame.Position = UDim2.new(0.03, 0, 0.15, 0)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true

local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 36)
title.BackgroundTransparency = 1
title.Text = "üîç Interagir Finder"
title.Font = Enum.Font.SourceSansBold
title.TextSize = 22
title.TextColor3 = Color3.new(1,1,1)

local refresh = Instance.new("TextButton", frame)
refresh.Size = UDim2.new(0, 120, 0, 36)
refresh.Position = UDim2.new(0, 10, 0, 40)
refresh.BackgroundColor3 = Color3.fromRGB(100, 70, 255)
refresh.Text = "Atualizar"
refresh.Font = Enum.Font.SourceSansBold
refresh.TextColor3 = Color3.new(1,1,1)
refresh.TextScaled = true

local close = Instance.new("TextButton", frame)
close.Size = UDim2.new(0, 80, 0, 36)
close.Position = UDim2.new(1, -90, 0, 40)
close.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
close.Text = "Fechar"
close.Font = Enum.Font.SourceSansBold
close.TextColor3 = Color3.new(1,1,1)
close.TextScaled = true

local status = Instance.new("TextLabel", frame)
status.Size = UDim2.new(1, -20, 0, 26)
status.Position = UDim2.new(0, 10, 0, 84)
status.BackgroundTransparency = 1
status.Text = "Toque em Atualizar para procurar intera√ß√µes..."
status.Font = Enum.Font.SourceSans
status.TextColor3 = Color3.fromRGB(200,200,200)
status.TextScaled = true
status.TextXAlignment = Enum.TextXAlignment.Left

local scroll = Instance.new("ScrollingFrame", frame)
scroll.Size = UDim2.new(1, -20, 0, 260)
scroll.Position = UDim2.new(0, 10, 0, 116)
scroll.BackgroundColor3 = Color3.fromRGB(40,40,40)
scroll.BorderSizePixel = 0
scroll.ScrollBarThickness = 8
scroll.CanvasSize = UDim2.new(0,0,0,0)

local layout = Instance.new("UIListLayout", scroll)
layout.Padding = UDim.new(0,6)
layout.SortOrder = Enum.SortOrder.LayoutOrder

-- teleport cooldown
local teleportCooldown = false

local function teleportTo(pos)
	if teleportCooldown then return false, "Espere um pouco..." end
	local char = player.Character or player.CharacterAdded:Wait()
	local hrp = char:FindFirstChild("HumanoidRootPart")
	if not hrp then return false, "Sem HumanoidRootPart" end

	teleportCooldown = true
	local ok, err = pcall(function()
		hrp.CFrame = CFrame.new(pos + Vector3.new(0, 3, 0))
	end)
	task.delay(0.6, function() teleportCooldown = false end)

	if not ok then
		return false, err
	end
	return true, "Teleportado!"
end

local function clearList()
	for _, c in ipairs(scroll:GetChildren()) do
		if c:IsA("TextButton") or c:IsA("TextLabel") then
			c:Destroy()
		end
	end
end

local function addItemButton(obj, prompt)
	local btn = Instance.new("TextButton", scroll)
	btn.Size = UDim2.new(1, -8, 0, 48)
	btn.BackgroundColor3 = Color3.fromRGB(60,60,60)
	btn.TextColor3 = Color3.fromRGB(240,240,240)
	btn.Font = Enum.Font.SourceSansBold
	btn.TextSize = 14
	btn.TextXAlignment = Enum.TextXAlignment.Left
	btn.TextWrapped = true

	local promptText = prompt.ObjectText ~= "" and prompt.ObjectText or "Interagir"
	local actionText = prompt.ActionText ~= "" and prompt.ActionText or ""
	local showName = obj.Name or "Objeto"
	btn.Text = string.format(" %s ‚Äî %s (%s)", showName, promptText, actionText)

	local pos
	if obj:IsA("BasePart") then
		pos = obj.Position
	elseif obj:IsA("Model") then
		pos = (obj.PrimaryPart and obj.PrimaryPart.Position) or nil
	elseif obj.Parent and obj.Parent:IsA("BasePart") then
		pos = obj.Parent.Position
	end

	if pos then
		btn.MouseButton1Click:Connect(function()
			status.Text = "Teleportando..."
			local ok, msg = teleportTo(pos)
			status.Text = msg
		end)
		btn.TouchTap:Connect(function()
			status.Text = "Teleportando..."
			local ok, msg = teleportTo(pos)
			status.Text = msg
		end)
	else
		btn.Text = btn.Text .. " (sem posi√ß√£o)"
	end
end

local function findPrompts()
	clearList()
	status.Text = "Procurando objetos com bot√£o de interagir..."
	local count = 0

	for _, obj in ipairs(workspace:GetDescendants()) do
		if obj:IsA("ProximityPrompt") then
			count += 1
			addItemButton(obj.Parent or obj, obj)
		end
	end

	if count == 0 then
		local lbl = Instance.new("TextLabel", scroll)
		lbl.Size = UDim2.new(1, -8, 0, 40)
		lbl.BackgroundTransparency = 1
		lbl.Text = "Nenhum objeto com bot√£o de interagir encontrado."
		lbl.Font = Enum.Font.SourceSans
		lbl.TextColor3 = Color3.fromRGB(255,255,255)
		lbl.TextScaled = true
	end

	task.wait(0.05)
	scroll.CanvasSize = UDim2.new(0,0,0,layout.AbsoluteContentSize.Y + 12)
	status.Text = string.format("Encontrados: %d objetos interag√≠veis.", count)
end

refresh.MouseButton1Click:Connect(findPrompts)
close.MouseButton1Click:Connect(function() gui:Destroy() end)

task.delay(0.2, findPrompts)
